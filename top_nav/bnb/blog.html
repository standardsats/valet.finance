<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog - Valet.finance</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #6B46C1;  /* Main purple */
            --secondary-color: #ffffff; /* White */
            --text-color: #2D3748;     /* Dark gray for text */
            --text-light: #718096;     /* Light gray for secondary text */
            --background-light: #F7FAFC; /* Light gray background */
            --background-dark: #2D3748;  /* Dark gray for footer */
            --accent-color: #805AD5;    /* Lighter purple for accents */
            --border-color: #E2E8F0;    /* Light gray for borders */
            --gradient-start: #6B46C1;   /* Purple gradient start */
            --gradient-end: #805AD5;     /* Purple gradient end */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-light);
        }

        /* Navigation Styles */
        .nav-container {
            background-color: var(--background-light);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .logo img {
            height: 3rem;
            width: auto;
        }

        .logo-text {
            color: var(--text-color);
            font-size: 1.5rem;
        }

        .logo-separator {
            color: #718096;
            margin: 0 0.5rem;
        }

        .wallet-text {
            color: #718096;
            font-weight: 500;
            font-size: 1.2rem;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            color: var(--text-color);
            text-decoration: none;
            font-size: 1rem;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: color 0.3s ease;
            display: inline-block;
        }

        .nav-links a:hover {
            color: var(--primary-color);
        }

        /* Dropdown styles */
        .dropdown {
            position: relative;
            display: inline-block;
            vertical-align: middle;
        }

        .dropdown > a {
            display: inline-block;
            vertical-align: middle;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: var(--secondary-color);
            min-width: 200px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            z-index: 1000;
            border-radius: 8px;
            padding: 8px 0;
            top: 100%;
            left: 0;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .dropdown-content a {
            color: var(--text-color);
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            transition: background-color 0.3s ease;
            font-size: 0.9rem;
        }

        .dropdown-content a:hover {
            background-color: var(--background-light);
            color: var(--primary-color);
        }

        /* Mobile Menu Styles */
        .hamburger {
            display: none;
            cursor: pointer;
            padding: 0.5rem;
            z-index: 1001;
        }

        .hamburger-line {
            width: 25px;
            height: 3px;
            background-color: var(--text-color);
            margin: 5px 0;
            transition: all 0.3s ease;
        }

        .mobile-menu {
            display: none;
            position: fixed;
            top: 0;
            right: -100%;
            width: 80%;
            height: 100vh;
            background-color: var(--secondary-color);
            box-shadow: -2px 0 5px rgba(0,0,0,0.1);
            padding: 2rem;
            transition: right 0.3s ease;
            z-index: 1000;
        }

        .mobile-menu.active {
            right: 0;
        }

        .mobile-menu-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .close-menu {
            cursor: pointer;
            font-size: 1.5rem;
            color: var(--text-color);
        }

        .mobile-nav-links {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .mobile-nav-links a {
            color: var(--text-color);
            text-decoration: none;
            font-size: 1.2rem;
            font-weight: 600;
            padding: 0.5rem 0;
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 999;
        }

        .overlay.active {
            display: block;
        }

        /* Blog Page Styles */
        .blog-header {
            background: linear-gradient(135deg, var(--gradient-start) 0%, var(--gradient-end) 100%);
            color: white;
            padding: 8rem 2rem 4rem;
            text-align: center;
        }

        .blog-header h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .blog-header p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .blog-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 4rem 2rem;
        }

        .blog-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 3rem;
            margin-bottom: 4rem;
        }

        .blog-main {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        /* Back to All Posts Button */
        .back-to-all-container {
            margin-bottom: 2rem;
            padding: 1rem 0;
        }

        .back-to-all-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
            font-size: 1rem;
            padding: 0.75rem 1.5rem;
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            transition: all 0.3s ease;
            background: white;
        }

        .back-to-all-btn:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(107, 70, 193, 0.3);
        }

        .blog-post {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            display: grid;
            grid-template-columns: 40% 60%;
            height: 550px;
        }
        
        .blog-post-excerpt-container {
            display: flex;
            flex-direction: column;
            padding: 2rem;
            flex: 1;
            min-height: 0;
            position: relative;
        }
        
        .blog-post-excerpt {
            margin: 0;
            padding: 0;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 4;
            -webkit-box-orient: vertical;
            line-clamp: 4;
            line-height: 1.6;
            color: var(--text-color);
        }

        /* Category badges */
        .category-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: white;
            z-index: 10;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }

        .category-badge.technology {
            background: linear-gradient(135deg, #3B82F6, #1D4ED8);
        }

        .category-badge.business {
            background: linear-gradient(135deg, #10B981, #059669);
        }

        .category-badge.education {
            background: linear-gradient(135deg, #F59E0B, #D97706);
        }

        /* Search functionality */
        .search-container {
            margin-bottom: 1rem;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 0.9rem;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            background: white;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(107, 70, 193, 0.1);
        }

        .search-input::placeholder {
            color: #9ca3af;
        }

        .search-results-info {
            margin-top: 0.5rem;
            font-size: 0.8rem;
            color: var(--text-light);
            font-style: italic;
        }

        .search-highlight {
            background: #fef3c7;
            padding: 0.1rem 0.2rem;
            border-radius: 3px;
            font-weight: 600;
        }

        .blog-post.search-result {
            border: 2px solid var(--primary-color);
            box-shadow: 0 4px 20px rgba(107, 70, 193, 0.15);
        }

        /* Featured post styles */
        .blog-post.featured {
            border: 3px solid var(--primary-color);
            box-shadow: 0 8px 32px rgba(107, 70, 193, 0.2);
            transform: scale(1.02);
            position: relative;
        }

        .blog-post.featured::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            z-index: 1;
        }

        .featured-badge {
            position: absolute;
            top: 1rem;
            left: 1rem;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            z-index: 10;
            box-shadow: 0 2px 8px rgba(107, 70, 193, 0.3);
        }

        .featured-badge::before {
            content: '⭐ ';
            margin-right: 0.25rem;
        }

        .blog-post.featured:hover {
            transform: scale(1.03) translateY(-4px);
            box-shadow: 0 12px 40px rgba(107, 70, 193, 0.25);
        }

        /* Comments system styles */
        .comments-section {
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 2px solid #e5e7eb;
        }

        .comments-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--text-color);
        }

        .comments-header::before {
            content: '💬';
            font-size: 1.5rem;
        }

        .comment-form {
            background: #f8fafc;
            padding: 1.5rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            border: 1px solid #e2e8f0;
        }

        .comment-form h4 {
            margin-bottom: 1rem;
            color: var(--text-color);
            font-size: 1.1rem;
        }

        .comment-input-group {
            margin-bottom: 1rem;
        }

        .comment-input-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-color);
            font-size: 0.9rem;
        }

        .comment-input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 0.9rem;
            transition: border-color 0.3s ease;
        }

        .comment-input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .comment-textarea {
            min-height: 100px;
            resize: vertical;
        }

        .comment-submit-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .comment-submit-btn:hover {
            background: var(--accent-color);
        }

        .comment-submit-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }

        .comments-list {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .comment {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .comment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .comment-author {
            font-weight: 600;
            color: var(--primary-color);
        }

        .comment-date {
            font-size: 0.8rem;
            color: #6b7280;
        }

        .comment-content {
            line-height: 1.6;
            color: var(--text-color);
        }

        .no-comments {
            text-align: center;
            padding: 2rem;
            color: #6b7280;
            font-style: italic;
        }

        /* Author information styles */
        .author-section {
            margin-top: 3rem;
            padding: 2rem;
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border-radius: 12px;
            border: 1px solid #e2e8f0;
        }

        .author-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .author-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--primary-color);
            box-shadow: 0 4px 12px rgba(107, 70, 193, 0.2);
        }

        .author-info {
            flex: 1;
        }

        .author-name {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 0.25rem;
        }

        .author-title {
            font-size: 0.9rem;
            color: #6b7280;
            font-weight: 500;
        }

        .author-bio {
            color: var(--text-color);
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .author-social {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .social-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            text-decoration: none;
            color: var(--text-color);
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(107, 70, 193, 0.3);
        }

        .social-link.twitter {
            border-color: #1DA1F2;
            color: #1DA1F2;
        }

        .social-link.twitter:hover {
            background: #1DA1F2;
            color: white;
        }

        .social-link.linkedin {
            border-color: #0077B5;
            color: #0077B5;
        }

        .social-link.linkedin:hover {
            background: #0077B5;
            color: white;
        }

        .social-link.github {
            border-color: #333;
            color: #333;
        }

        .social-link.github:hover {
            background: #333;
            color: white;
        }

        /* Social sharing styles */
        .share-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 10002;
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            align-items: center;
            justify-content: center;
        }

        .share-modal.active {
            display: flex;
            opacity: 1;
        }

        .share-modal-content {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            max-width: 500px;
            width: 90%;
            position: relative;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .share-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .share-modal-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--text-color);
        }

        .share-modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #6b7280;
            padding: 0.5rem;
            border-radius: 4px;
            transition: background-color 0.2s ease;
        }

        .share-modal-close:hover {
            background: #f3f4f6;
        }

        .share-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .share-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            text-decoration: none;
            color: var(--text-color);
            transition: all 0.3s ease;
            background: white;
        }

        .share-option:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .share-option.twitter {
            border-color: #1DA1F2;
            color: #1DA1F2;
        }

        .share-option.twitter:hover {
            background: #1DA1F2;
            color: white;
        }

        .share-option.facebook {
            border-color: #1877F2;
            color: #1877F2;
        }

        .share-option.facebook:hover {
            background: #1877F2;
            color: white;
        }

        .share-option.linkedin {
            border-color: #0077B5;
            color: #0077B5;
        }

        .share-option.linkedin:hover {
            background: #0077B5;
            color: white;
        }

        .share-option.whatsapp {
            border-color: #25D366;
            color: #25D366;
        }

        .share-option.whatsapp:hover {
            background: #25D366;
            color: white;
        }

        .share-option.telegram {
            border-color: #0088cc;
            color: #0088cc;
        }

        .share-option.telegram:hover {
            background: #0088cc;
            color: white;
        }

        .share-option.copy {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        .share-option.copy:hover {
            background: var(--primary-color);
            color: white;
        }

        .share-icon {
            font-size: 1.5rem;
        }

        .share-label {
            font-size: 0.8rem;
            font-weight: 600;
            text-align: center;
        }

        .share-url-section {
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid #e5e7eb;
        }

        .share-url-label {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: 0.5rem;
        }

        .share-url-input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 0.9rem;
            background: #f8fafc;
            color: var(--text-color);
        }

        .share-url-input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* Search history styles */
        .search-container {
            position: relative;
        }

        .search-history {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #e5e7eb;
            border-top: none;
            border-radius: 0 0 8px 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            z-index: 100;
            max-height: 200px;
            overflow-y: auto;
            display: none;
        }

        .search-history.show {
            display: block;
        }

        .search-history-item {
            padding: 0.75rem 1rem;
            cursor: pointer;
            border-bottom: 1px solid #f3f4f6;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: background-color 0.2s ease;
        }

        .search-history-item:last-child {
            border-bottom: none;
        }

        .search-history-item:hover {
            background-color: #f9fafb;
        }

        .search-history-icon {
            color: #9ca3af;
            font-size: 0.8rem;
        }

        .search-history-text {
            flex: 1;
            font-size: 0.9rem;
        }

        .search-history-remove {
            color: #ef4444;
            cursor: pointer;
            padding: 0.25rem;
            border-radius: 4px;
            transition: background-color 0.2s ease;
        }

        .search-history-remove:hover {
            background-color: #fee2e2;
        }

        .search-history-clear {
            padding: 0.5rem 1rem;
            text-align: center;
            color: #6b7280;
            font-size: 0.8rem;
            border-top: 1px solid #f3f4f6;
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .search-history-clear:hover {
            color: #ef4444;
        }

        /* Lazy loading styles */
        .lazy-image {
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .lazy-image.loaded {
            opacity: 1;
        }

        .lazy-image-placeholder {
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #9ca3af;
            font-size: 0.9rem;
        }

        .lazy-loading-spinner {
            width: 20px;
            height: 20px;
            border: 2px solid #e5e7eb;
            border-top: 2px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .blog-post:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .blog-post-image {
            height: 100%;
            position: relative;
            overflow: hidden;
        }

        .blog-post-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
        }

        .blog-post-content {
            display: flex;
            flex-direction: column;
            position: relative;
            padding: 0;
        }

        .blog-post-meta {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            padding: 1rem 2rem;
            font-size: 0.9rem;
            color: var(--text-light);
            border-bottom: 1px solid var(--border-color);
            background: rgba(247, 250, 252, 0.95);
        }

        /* Hide the category in meta section since we have the badge */
        .blog-post-meta .blog-post-category {
            display: none;
        }

        .blog-post-category {
            background: var(--primary-color);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .blog-post-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin: 0;
            padding: 2rem;
            background: linear-gradient(90deg, rgba(107, 70, 193, 0.95) 0%, rgba(128, 90, 213, 0.85) 100%);
            color: white;
            position: relative;
            left: -3rem;
            width: calc(100% + 3rem);
            clip-path: polygon(3rem 0, 100% 0, 100% 100%, 0% 100%);
            line-height: 1.3;
        }

        .blog-post-excerpt {
            color: var(--text-light);
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .blog-post-link {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            margin-top: auto;
            padding: 1rem 2rem;
            border-top: 1px solid var(--border-color);
            background: rgba(247, 250, 252, 0.95);
            width: 100%;
        }

        .blog-post-link:hover {
            color: var(--accent-color);
            gap: 1rem;
            background: rgba(247, 250, 252, 1);
        }

        .blog-sidebar {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .sidebar-section {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .sidebar-section h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .recent-posts {
            list-style: none;
        }

        .recent-posts li {
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        .recent-posts li:last-child {
            border-bottom: none;
        }

        .recent-post-title {
            color: var(--text-color);
            text-decoration: none;
            font-weight: 600;
            display: block;
            margin-bottom: 0.5rem;
            transition: color 0.3s ease;
        }

        .recent-post-title:hover {
            color: var(--primary-color);
        }

        .recent-post-date {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .categories-list {
            list-style: none;
        }

        .categories-list li {
            padding: 0.5rem 0;
        }

        .category-link {
            color: var(--text-color);
            text-decoration: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: color 0.3s ease;
        }

        .category-link:hover {
            color: var(--primary-color);
        }

        .category-link.active {
            color: var(--primary-color);
            font-weight: 600;
            background: rgba(107, 70, 193, 0.1);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            border-left: 3px solid var(--primary-color);
        }

        .category-count {
            background: var(--background-light);
            color: var(--text-light);
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.8rem;
        }

        .blog-pagination {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 3rem;
        }

        .pagination-link {
            padding: 0.75rem 1rem;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-color);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .pagination-link:hover,
        .pagination-link.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* Footer Styles */
        footer {
            background-color: var(--background-dark);
            color: white;
            padding: 3rem 0 1rem;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .footer-section h4 {
            color: white;
            margin-bottom: 1rem;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 0.5rem;
        }

        .footer-section ul li a {
            color: #CBD5E0;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-section ul li a:hover {
            color: white;
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .social-link {
            color: #CBD5E0;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .social-link:hover {
            color: white;
        }

        .community-buttons {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .community-button {
            background: var(--primary-color);
            color: white;
            text-decoration: none;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
            transition: background-color 0.3s ease;
        }

        .community-button:hover {
            background: var(--accent-color);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            margin-top: 2rem;
            border-top: 1px solid #4A5568;
        }

        .footer-bottom p {
            color: #CBD5E0;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .hamburger {
                display: block;
            }

            .nav-links {
                display: none;
            }

            .blog-header h1 {
                font-size: 2rem;
            }

            .blog-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .blog-container {
                padding: 2rem 1rem;
            }

            .blog-post-title {
                font-size: 1.5rem;
            }

            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
        }

        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--primary-color);
            color: white;
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            display: none;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            font-size: 1.5rem;
            font-weight: bold;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .back-to-top:hover {
            background: var(--accent-color);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }

        /* Force back-to-top button visibility on mobile */
        @media (max-width: 768px) {
            .back-to-top {
                bottom: 1rem;
                right: 1rem;
                width: 2.5rem;
                height: 2.5rem;
                font-size: 1.2rem;
            }
        }

        /* Article Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 10000;
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal-overlay.active {
            display: flex;
            opacity: 1;
            align-items: center;
            justify-content: center;
        }

        .article-modal {
            background: white;
            border-radius: 12px;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: translateY(-20px);
            transition: transform 0.3s ease;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .modal-overlay.active .article-modal {
            transform: translateY(0);
        }

        .modal-header {
            padding: 2rem 2rem 1rem;
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            background: white;
            z-index: 1;
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-light);
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: var(--background-light);
            color: var(--text-color);
        }

        .modal-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--text-color);
            margin-bottom: 0.5rem;
            line-height: 1.3;
        }

        .modal-meta {
            display: flex;
            align-items: center;
            gap: 1rem;
            font-size: 0.9rem;
            color: var(--text-light);
            flex-wrap: wrap;
        }

        .modal-category {
            background: var(--primary-color);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .modal-content {
            padding: 2rem;
        }

        .modal-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 2rem;
        }

        .modal-article-content {
            line-height: 1.8;
            color: var(--text-color);
            font-size: 1rem;
        }

        .modal-article-content h2,
        .modal-article-content h3 {
            color: var(--text-color);
            margin: 2.5rem 0 1.5rem;
            font-weight: 700;
            line-height: 1.4;
        }

        .modal-article-content h2 {
            font-size: 1.5rem;
        }

        .modal-article-content h3 {
            font-size: 1.3rem;
        }

        .modal-article-content p {
            margin-bottom: 1.8rem;
            line-height: 1.8;
        }

        .modal-article-content strong {
            font-weight: 700;
        }

        .modal-article-content em {
            font-style: italic;
        }

        .modal-article-content a {
            color: var(--primary-color);
            text-decoration: underline;
        }

        .modal-article-content a:hover {
            color: var(--accent-color);
        }

        .modal-article-content ul,
        .modal-article-content ol {
            margin: 1.5rem 0;
            padding-left: 2rem;
        }

        .modal-article-content li {
            margin-bottom: 0.8rem;
            line-height: 1.6;
        }

        /* Handle line breaks in content */
        .modal-article-content br {
            display: block;
            margin: 0.5rem 0;
        }

        /* Style for TAKEAWAY sections */
        .modal-article-content .takeaway-section {
            background: var(--background-light);
            padding: 1.5rem;
            border-left: 4px solid var(--primary-color);
            margin: 2rem 0;
            border-radius: 0 8px 8px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .modal-article-content .takeaway-section strong {
            color: var(--primary-color);
            font-size: 1.1rem;
            display: block;
            margin-bottom: 1rem;
        }

        /* Style for CONCLUSION sections */
        .modal-article-content .conclusion-section {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            padding: 1.5rem;
            margin: 2rem 0;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(107, 70, 193, 0.3);
        }

        .modal-article-content .conclusion-section strong {
            color: white;
            font-size: 1.1rem;
            display: block;
            margin-bottom: 1rem;
        }

        .modal-article-content .conclusion-section a {
            color: white;
            text-decoration: underline;
        }

        .modal-article-content .conclusion-section a:hover {
            color: #f0f0f0;
        }

        .modal-footer {
            padding: 1rem 2rem 2rem;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            position: sticky;
            bottom: 0;
        }

        .modal-actions {
            display: flex;
            gap: 1rem;
        }

        .modal-btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .modal-btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .modal-btn-primary:hover {
            background: var(--accent-color);
        }

        .modal-btn-secondary {
            background: var(--background-light);
            color: var(--text-color);
        }

        .modal-btn-secondary:hover {
            background: var(--border-color);
        }

        /* Mobile responsive for modal */
        @media (max-width: 768px) {
            .article-modal {
                width: 95%;
                max-height: 95vh;
                margin: 1rem;
            }

            .modal-header {
                padding: 1.5rem 1.5rem 1rem;
            }

            .modal-content {
                padding: 1.5rem;
            }

            .modal-footer {
                padding: 1rem 1.5rem 1.5rem;
            }

            .modal-title {
                font-size: 1.5rem;
            }

            .modal-actions {
                flex-direction: column;
                width: 100%;
            }

            .modal-btn {
                width: 100%;
                justify-content: center;
            }

            .modal-article-content {
                font-size: 0.95rem;
            }

            .modal-article-content h2 {
                font-size: 1.3rem;
            }

            .modal-article-content h3 {
                font-size: 1.1rem;
            }

            .modal-article-content p {
                margin-bottom: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-container">
        <div class="nav-content">
            <a href="../../index.html" class="logo">
                <img src="../../images/Valet_logo.svg" alt="Valet Logo">
                <span class="logo-text">Valet</span>
                <span class="logo-separator">|</span>
                <span class="wallet-text">Wallet</span>
            </a>
            
            <div class="nav-links">
                <a href="../../index.html">Valet</a>
                <a href="../features/features.html">Features</a>
                
                <div class="dropdown">
                    <a href="#">User Guide</a>
                    <div class="dropdown-content">
                        <a href="../user_guide/getting-started.html">Getting Started</a>
                        <a href="../user_guide/wallet-settings.html">Wallet Settings</a>
                        <a href="../user_guide/restoring-wallet.html">Restoring Your Valet Wallet</a>
                        <a href="../user_guide/security-tips.html">General Security Tips</a>
                    </div>
                </div>
                
                <div class="dropdown">
                    <a href="#">BnB</a>
                    <div class="dropdown-content">
                        <a href="blog.html">Blog and Business</a>
                        <a href="contact.html">Contact Us</a>
                    </div>
                </div>
            </div>

            <div class="hamburger">
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu">
        <div class="mobile-menu-header">
            <span class="close-menu">&times;</span>
        </div>
        <div class="mobile-nav-links">
            <a href="../../index.html">Valet</a>
            <a href="../features/features.html">Features</a>
            
            <!-- User Guide Dropdown -->
            <div class="mobile-dropdown">
                <a href="#" class="mobile-dropdown-toggle">User Guide ▼</a>
                <div class="mobile-dropdown-content">
                    <a href="../user_guide/getting-started.html">Getting Started</a>
                    <a href="../user_guide/wallet-settings.html">Wallet Settings</a>
                    <a href="../user_guide/restoring-wallet.html">Restoring Your Valet Wallet</a>
                    <a href="../user_guide/security-tips.html">General Security Tips</a>
                </div>
            </div>
            
            <!-- BnB Dropdown -->
            <div class="mobile-dropdown">
                <a href="#" class="mobile-dropdown-toggle">BnB ▼</a>
                <div class="mobile-dropdown-content">
                    <a href="blog.html">Blog and Business</a>
                    <a href="contact.html">Contact Us</a>
                </div>
            </div>
        </div>
    </div>

    <div class="overlay"></div>

    <!-- Blog Header -->
    <header class="blog-header">
        <h1>Valet Blog</h1>
        <p>Stay updated with the latest news, insights, and developments in the Bitcoin and Lightning Network ecosystem</p>
    </header>

    <!-- Blog Content -->
    <main class="blog-container">
        <div class="blog-grid">
            <!-- Main Blog Content -->
            <div class="blog-main">
                <!-- Dynamic blog posts will be loaded here by JavaScript -->
            </div>

            <!-- Sidebar -->
            <aside class="blog-sidebar">
                <!-- Search Bar -->
                <div class="sidebar-section">
                    <h3>Search Posts</h3>
                    <div class="search-container">
                        <input type="text" id="searchInput" class="search-input" placeholder="Search posts...">
                        <div class="search-results-info" id="searchResultsInfo"></div>
                        <div class="search-history" id="searchHistory">
                            <!-- Search history items will be loaded here -->
                        </div>
                    </div>
                </div>

                <!-- Recent Posts -->
                <div class="sidebar-section">
                    <h3>Recent Posts</h3>
                    <ul class="recent-posts">
                        <!-- Dynamic recent posts will be loaded here by JavaScript -->
                    </ul>
                </div>

                <!-- Categories -->
                <div class="sidebar-section">
                    <h3>Categories</h3>
                    <ul class="categories-list">
                        <!-- Dynamic categories will be loaded here by JavaScript -->
                    </ul>
                </div>
            </aside>
        </div>

        <!-- Pagination -->
        <div class="blog-pagination" id="blogPagination">
            <!-- Dynamic pagination will be loaded here by JavaScript -->
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4>Wallet</h4>
                <ul>
                    <li><a href="https://f-droid.org/en/packages/finance.valet/" target="_blank">Mobile Apps</a></li>
                    <li><a href="https://github.com/standardsats/valet/releases/tag/4.4.4" target="_blank">APK File</a></li>
                    <li><a href="#">Telegram Bot</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Features</h4>
                <ul>
                    <li><a href="../features/features.html#basic">Basic</a></li>
                    <li><a href="../features/features.html#advanced">Advanced</a></li>
                    <li><a href="../features/features.html#security">Security</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>BnB</h4>
                <ul>
                    <li><a href="blog.html">Blog and Business</a></li>
                    <li><a href="contact.html">Contact Us</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Connect with Us</h4>
                <div class="social-links">
                    <a href="https://x.com/standard_sats" class="social-link" target="_blank">X(Twitter)</a>
                    <a href="https://www.youtube.com/@standardsats" class="social-link" target="_blank">YouTube</a>
                    <a href="https://stacker.news/standard_sats" class="social-link" target="_blank">StackerNews</a>
                    <a href="https://github.com/standardsats/valet" class="social-link" target="_blank">GitHub</a>
                </div>
                <div class="community-buttons">
                    <a href="https://t.me/StandardSatsCommunity" class="community-button" target="_blank">Join us on Telegram</a>
                    <a href="#" class="community-button">Join us on Discord</a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Valet.finance. All rights reserved.</p>
        </div>
    </footer>

    <a href="#" class="back-to-top" id="backToTop">↑</a>

    <!-- Article Modal -->
    <div class="modal-overlay" id="articleModal">
        <div class="article-modal">
            <div class="modal-header">
                <button class="modal-close" id="modalClose">&times;</button>
                <h1 class="modal-title" id="modalTitle"></h1>
                <div class="modal-meta">
                    <span class="modal-category" id="modalCategory"></span>
                    <span id="modalDate"></span>
                    <span id="modalReadTime"></span>
                </div>
            </div>
            <div class="modal-content">
                <img class="modal-image" id="modalImage" src="" alt="">
                <div class="modal-article-content" id="modalContent"></div>
                
                <!-- Author Section -->
                <div class="author-section" id="authorSection">
                    <!-- Author information will be loaded here -->
                </div>
                
                <!-- Comments Section -->
                <div class="comments-section" id="commentsSection">
                    <div class="comments-header">
                        <span>Comments</span>
                    </div>
                    
                    <!-- Comment Form -->
                    <div class="comment-form">
                        <h4>Leave a Comment</h4>
                        <div class="comment-input-group">
                            <label for="commentName">Name *</label>
                            <input type="text" id="commentName" class="comment-input" placeholder="Your name" required>
                        </div>
                        <div class="comment-input-group">
                            <label for="commentEmail">Email *</label>
                            <input type="email" id="commentEmail" class="comment-input" placeholder="your.email@example.com" required>
                        </div>
                        <div class="comment-input-group">
                            <label for="commentContent">Comment *</label>
                            <textarea id="commentContent" class="comment-input comment-textarea" placeholder="Share your thoughts..." required></textarea>
                        </div>
                        <button type="button" id="submitComment" class="comment-submit-btn">Post Comment</button>
                    </div>
                    
                    <!-- Comments List -->
                    <div class="comments-list" id="commentsList">
                        <!-- Comments will be loaded here -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div class="modal-actions">
                    <button class="modal-btn modal-btn-secondary" id="modalCloseBtn">Close</button>
                    <button class="modal-btn modal-btn-primary" id="modalShareBtn">📤 Share Article</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Share Modal -->
    <div class="share-modal" id="shareModal">
        <div class="share-modal-content">
            <div class="share-modal-header">
                <h3 class="share-modal-title">Share Article</h3>
                <button class="share-modal-close" id="shareModalClose">&times;</button>
            </div>
            
            <div class="share-options">
                <a href="#" class="share-option twitter" id="shareTwitter">
                    <span class="share-icon">🐦</span>
                    <span class="share-label">Twitter</span>
                </a>
                <a href="#" class="share-option facebook" id="shareFacebook">
                    <span class="share-icon">📘</span>
                    <span class="share-label">Facebook</span>
                </a>
                <a href="#" class="share-option linkedin" id="shareLinkedIn">
                    <span class="share-icon">💼</span>
                    <span class="share-label">LinkedIn</span>
                </a>
                <a href="#" class="share-option whatsapp" id="shareWhatsApp">
                    <span class="share-icon">💬</span>
                    <span class="share-label">WhatsApp</span>
                </a>
                <a href="#" class="share-option telegram" id="shareTelegram">
                    <span class="share-icon">📱</span>
                    <span class="share-label">Telegram</span>
                </a>
                <a href="#" class="share-option copy" id="shareCopy">
                    <span class="share-icon">📋</span>
                    <span class="share-label">Copy Link</span>
                </a>
            </div>
            
            <div class="share-url-section">
                <label class="share-url-label">Article URL:</label>
                <input type="text" class="share-url-input" id="shareUrl" readonly>
            </div>
        </div>
    </div>

    <script>
        console.log('=== BLOG PAGE LOADED ===');
        console.log('Blog page script loaded!');
        console.log('Testing if JavaScript works on this page');
        console.log('Current URL:', window.location.href);
        console.log('Document ready state:', document.readyState);
    </script>
    <script src="../../js/content-loader.js" onerror="console.error('Failed to load content-loader.js')" onload="console.log('content-loader.js loaded successfully')"></script>
    <script>
        // Simple test to see if elements exist
        console.log('Testing elements:');
        console.log('Hamburger:', document.querySelector('.hamburger'));
        console.log('Mobile menu:', document.querySelector('.mobile-menu'));
        console.log('Overlay:', document.querySelector('.overlay'));
        console.log('Close menu:', document.querySelector('.close-menu'));
        
        // Mobile menu functionality
        const hamburger = document.querySelector('.hamburger');
        const mobileMenu = document.querySelector('.mobile-menu');
        const overlay = document.querySelector('.overlay');
        const closeMenu = document.querySelector('.close-menu');

        if (hamburger && mobileMenu && overlay && closeMenu) {
            hamburger.addEventListener('click', () => {
                mobileMenu.classList.add('active');
                overlay.classList.add('active');
                document.body.style.overflow = 'hidden';
            });

            closeMenu.addEventListener('click', () => {
                mobileMenu.classList.remove('active');
                overlay.classList.remove('active');
                document.body.style.overflow = '';
            });

            overlay.addEventListener('click', () => {
                mobileMenu.classList.remove('active');
                overlay.classList.remove('active');
                document.body.style.overflow = '';
            });
        } else {
            console.log('Some mobile menu elements are missing');
        }
        
        // Test blog content areas
        console.log('Testing blog content areas:');
        console.log('Blog main:', document.querySelector('.blog-main'));
        console.log('Recent posts:', document.querySelector('.recent-posts'));
        console.log('Categories list:', document.querySelector('.categories-list'));

        // Back to top button functionality
        const backToTopButton = document.getElementById('backToTop');
        
        if (backToTopButton) {
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    backToTopButton.style.display = 'flex';
                } else {
                    backToTopButton.style.display = 'none';
                }
            });

            backToTopButton.addEventListener('click', (e) => {
                e.preventDefault();
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        }

        // Article Modal Functionality
        let currentPosts = [];
        const modal = document.getElementById('articleModal');
        const modalClose = document.getElementById('modalClose');
        const modalCloseBtn = document.getElementById('modalCloseBtn');
        const modalTitle = document.getElementById('modalTitle');
        const modalCategory = document.getElementById('modalCategory');
        const modalDate = document.getElementById('modalDate');
        const modalReadTime = document.getElementById('modalReadTime');
        const modalImage = document.getElementById('modalImage');
        const modalContent = document.getElementById('modalContent');
        const modalShareBtn = document.getElementById('modalShareBtn');

        console.log('Modal elements found:', {
            modal: !!modal,
            modalClose: !!modalClose,
            modalCloseBtn: !!modalCloseBtn,
            modalTitle: !!modalTitle,
            modalCategory: !!modalCategory,
            modalDate: !!modalDate,
            modalReadTime: !!modalReadTime,
            modalImage: !!modalImage,
            modalContent: !!modalContent,
            modalShareBtn: !!modalShareBtn
        });

        // Function to close modal
        function closeModal() {
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Close modal event listeners
        modalClose.addEventListener('click', closeModal);
        modalCloseBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                closeModal();
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && modal.classList.contains('active')) {
                closeModal();
            }
        });

        // Share article functionality
        modalShareBtn.addEventListener('click', () => {
            if (navigator.share) {
                navigator.share({
                    title: modalTitle.textContent,
                    text: 'Check out this article on Valet.finance',
                    url: window.location.href
                });
            } else {
                // Fallback: copy URL to clipboard
                navigator.clipboard.writeText(window.location.href).then(() => {
                    alert('Article URL copied to clipboard!');
                });
            }
        });

        // Function to open article modal
        window.openArticleModal = function(postId) {
            console.log('openArticleModal called with postId:', postId);
            console.log('currentPosts:', currentPosts);
            
            const post = currentPosts.find(p => p.id === postId);
            console.log('Found post:', post);
            
            if (!post) {
                console.log('Post not found!');
                return;
            }

            // Populate modal content
            modalTitle.innerHTML = post.title;
            modalCategory.textContent = post.category;
            modalDate.textContent = new Date(post.date).toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            modalReadTime.textContent = post.readTime;
            modalImage.src = '../../' + post.image;
            modalImage.alt = post.title;
            // Enhanced content processing with hybrid HTML/Markdown support
            let processedContent = post.content;
            
            // Step 1: Convert Markdown-style formatting to HTML
            // Bold text: **text** or __text__ → <strong>text</strong>
            processedContent = processedContent.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            processedContent = processedContent.replace(/__(.*?)__/g, '<strong>$1</strong>');
            
            // Italic text: *text* or _text_ → <em>text</em>
            processedContent = processedContent.replace(/\*(.*?)\*/g, '<em>$1</em>');
            processedContent = processedContent.replace(/_(.*?)_/g, '<em>$1</em>');
            
            // Links: [text](url) → <a href="url">text</a>
            processedContent = processedContent.replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" target="_blank">$1</a>');
            
            // Step 2: Handle different spacing patterns
            // Convert multiple line breaks to paragraph breaks
            processedContent = processedContent.replace(/\n\s*\n\s*\n/g, '</p><p>'); // Triple or more line breaks
            processedContent = processedContent.replace(/\n\s*\n/g, '</p><p>'); // Double line breaks
            
            // Step 3: Handle single line breaks within paragraphs
            processedContent = processedContent.replace(/\n/g, '<br>');
            
            // Step 4: Wrap content in paragraph tags if not already wrapped
            if (!processedContent.includes('<p>')) {
                processedContent = '<p>' + processedContent + '</p>';
            }
            
            // Step 5: Clean up any empty paragraphs or excessive spacing
            processedContent = processedContent.replace(/<p><\/p>/g, '');
            processedContent = processedContent.replace(/<p>\s*<\/p>/g, '');
            
            // Step 6: Handle special formatting for TAKEAWAY sections
            processedContent = processedContent.replace(
                /<p><strong>TAKEAWAY:<\/strong><\/p>/g, 
                '<div class="takeaway-section"><strong>TAKEAWAY:</strong>'
            );
            processedContent = processedContent.replace(
                /<p><strong>CONCLUSION:<\/strong><\/p>/g, 
                '<div class="conclusion-section"><strong>CONCLUSION:</strong>'
            );
            
            // Step 7: Close any open special sections
            processedContent = processedContent.replace(
                /<div class="takeaway-section">(.*?)(?=<p><strong>|$)/g,
                '<div class="takeaway-section">$1</div>'
            );
            processedContent = processedContent.replace(
                /<div class="conclusion-section">(.*?)(?=<p><strong>|$)/g,
                '<div class="conclusion-section">$1</div>'
            );
            
            modalContent.innerHTML = processedContent;

            console.log('Modal content populated, showing modal...');

            // Load author information for this post
            if (typeof contentLoader !== 'undefined') {
                contentLoader.loadAuthorInfo(postId);
                contentLoader.loadComments(postId);
                contentLoader.setupComments();
                contentLoader.setupSocialSharing();
            }

            // Show modal
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        };

        // Function to close modal
        function closeModal() {
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Close modal event listeners
        if (modalClose) {
            modalClose.addEventListener('click', closeModal);
        }
        if (modalCloseBtn) {
            modalCloseBtn.addEventListener('click', closeModal);
        }
        if (modal) {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });
        }

        // Close modal with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && modal && modal.classList.contains('active')) {
                closeModal();
            }
        });

        // Share article functionality
        if (modalShareBtn) {
            modalShareBtn.addEventListener('click', () => {
                if (navigator.share) {
                    navigator.share({
                        title: modalTitle.textContent,
                        text: 'Check out this article on Valet.finance',
                        url: window.location.href
                    });
                } else {
                    // Fallback: copy URL to clipboard
                    navigator.clipboard.writeText(window.location.href).then(() => {
                        alert('Article URL copied to clipboard!');
                    });
                }
            });
        }

        // Wait for content loader to be available, then update it
        function setupContentLoader() {
            if (typeof contentLoader !== 'undefined') {
                console.log('Content loader found, setting up modal integration...');
                
                // Store the original updateBlogPage function
                const originalUpdateBlogPage = contentLoader.updateBlogPage;
                
                // Override the updateBlogPage function to store posts
                contentLoader.updateBlogPage = async function() {
                    console.log('Custom updateBlogPage called');
                    await originalUpdateBlogPage.call(this);
                    // Store posts for modal access
                    currentPosts = this.blogPosts;
                    console.log('Posts stored for modal:', currentPosts.length);
                };
            } else {
                console.log('Content loader not yet available, retrying...');
                setTimeout(setupContentLoader, 100);
            }
        }

        // Start the setup process
        setupContentLoader();
    </script>
</body>
</html>
